<!DOCTYPE html>
<html>
<head>
  <meta charset = "utf-8"
  <title>Pong Game Test</title>
<style>
  body {
    background: black;
  }

</style>
</head>
<body>
  <canvas id = "canvas" width = "600" height = "400">
  </canvas>

  <script>
      var canvas = document.getElementById("canvas");
      var ctx = canvas.getContext("2d");

      var w = canvas.width;
      var h = canvas.height;

      var border = 20;

      var tileW = 4;
      var tileH = 10;
      var tileGap = 2;

      var tileX = w/2 - tileW/2;
      var tileY = 0;
      var tileCount = h/(tileH + tileGap);

      var radiusBall = 6;

      //game speed
      var gameSpeed = 2;

      //ball position
      var xPosBall = 200;
      var yPosBall = 300;

      //ball speed
      var xSpeedBall = 1;
      var ySpeedBall = 1;

      //ball direction
      var xDirBall = -1;
      var yDirBall = -1;

      //the pad
      var xPosPad = w-20;
      var yPosPad = h/2;

      //size of the pad
      var padW = 12;
      var padH = 60;

      //direction of the pad
      var padDir = 0;

      //speed of the pad
      var padSpeed = 2;

      function draw (){
        ctx.clearRect(0, 0, w, h);
        ctx.fillStyle = "green";
        ctx.fillRect(0, 0, w, h);

        //paint themidline
        ctx.fillStyle = "black";
        for(var i = 0; i<tileCount; i++){
          tileY = i * (tileH + tileGap);
          ctx.fillRect(tileX, tileY, tileW, tileH);

        }


        //paint the white walls
        ctx.fillStyle = "white";
        //top
        ctx.fillRect(0, 0, w, border);
        //bottom
        ctx.fillRect(0, h-border, w, border);
        //left wall
        ctx.fillRect(0,0,border,h);
        //right walls

        //paint the ball
        ctx.fillStyle = "yellow";
        ctx.beginPath();
        ctx.arc(xPosBall, yPosBall, radiusBall, 0, Math.PI * 2, false);
        ctx.fill();
        ctx.closePath();

        //change position of th eball
        xPosBall = xPosBall + xSpeedBall * xDirBall;
        yPosBall = yPosBall + ySpeedBall * yDirBall;


        //does the ball hit the left wall?
        if(xPosBall <= border + radiusBall){
          xDirBall = 1;
        }
        //top
        if(yPosBall <= border + radiusBall){
          yDirBall = 1;
        }
        //bottom
        if(yPosBall >= h - border - radiusBall){
          yDirBall = -1;
        }
        if(yPosBall >= yPosPad && yPosBall <= yPosPad + padH && xPosBall >= xPosPad && xPosBall <= xPosPad + padW){
          xDirBall = -1;

        }
        //draw pad
        ctx.fillStyle = "blue";
        ctx.fillRect(xPosPad, yPosPad, padW, padH);
        yPosPad = yPosPad + padSpeed * padDir;
      }
      document.onkeydown = function(e){
        if(e.keyCode == 38){
          padDir = -1;
        }
        if(e.keyCode == 40){
          padDir = 1;
        }
      }
      document.onkeyup = function(e){
        if(e.keyCode == 38 || keyCode == 40){
          padDir = 0;
        }
      }
      setInterval(draw, gameSpeed);

  </script>
</body>
</html>
